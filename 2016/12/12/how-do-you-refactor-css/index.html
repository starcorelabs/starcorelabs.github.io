<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="UX Developer Blog">
    

    <!--Author-->
    
        <meta name="author" content="Michael Douglas">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="How Do You Refactor CSS?"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="UX Developer Blog" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Starcore Labs"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="starcorelabs>" />
    

    <!-- Title -->
    
    <title>How Do You Refactor CSS? - Starcore Labs</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


    <!-- favicon -->
    
    <link rel="icon" href="favicon.ico">
    
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Starcore Labs</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            
                                About
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/portfolio">
                            
                                Portfolio
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/img/background.png')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>How Do You Refactor CSS?</h1>
                    
                
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p><img src="/img/laptop-code.jpg" alt="alt text" title="CSS"></p>
<blockquote>
<p>Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live.</p>
</blockquote>
<p>Most of the corporate environments I’ve worked in are years behind the latest trends in front-end development. Not using or allowing any kind of preprocessors, no build process, and no package management. All these combined to cause technical debt, a bloated codebase, frustrated developers, and especially wasted time and money.</p>
<p>Thankfully the company I currently work for is on the cutting edge of web development. It is so great when a company gets it!</p>
<p>We use Node.js / Gulp.js for automation and SASS for styling. Which gives us the speed and flexibility to build websites and write CSS that is more modular and maintainable.</p>
<p>Of course even the most enlightened company will have some dark legacy code lurking somewhere on their servers.</p>
<p>While it is perfectly functional code. Overtime it has become an overgrown tangled garden.  This makes it harder to track down errors and add new features.</p>
<p>Attempting to refactor a codebase this large would require a rewrite and reorganization of the code. It would take too long, cost too much, and some elements would break due to their reliance on other legacy code that, for business reasons, cannot be changed.</p>
<p>Even if the code was copied to a development server and worked on as a seperate branch in the repository it would still cost time and money to fix.</p>
<p>Plus, there is the looming question of how do you organize something as gargantuan as a 7 year old interconnected SCSS codebase?</p>
<p>My company has recently began creating a style guide which addresses some of these issues. It informs UX Developers how to organize and write better code going forward.</p>
<p>This is a step in the right direction. However, my sentiment is, “Writing good code that relies on bad code, is still bad code”.</p>
<p>In preperation for what I see as an inevitable refactoring / rewrite of this SCSS codebase I spent time researching online to improve my understanding of the current best practices.</p>
<p>I watched two great YouTube videos.</p>
<ol>
<li><a href="https://www.youtube.com/watch?v=kbGYPm9nYfk" target="_blank" rel="external">Refactoring CSS Without Losing Your Mind by Harry Roberts.</a></li>
<li><a href="https://www.youtube.com/watch?v=IkFq2cSbQ4Q" target="_blank" rel="external">Organizing CSS with OOCSS, SMACSS, and BEM by Matt Stauffer.</a></li>
</ol>
<p>Both videos highly recommended <a href="https://smacss.com/" target="_blank" rel="external">smacss.com.</a></p>
<p>After watching these videos I looked up the speakers online and found their respective websites. They are excellent resources for web developers.</p>
<ul>
<li>Harry Roberts - <a href="http://csswizardry.com/2016/08/refactoring-css-the-three-i-s/" target="_blank" rel="external">The Three I’s of Refactoring CSS</a></li>
<li>Matt Stauffer - <a href="https://mattstauffer.co/blog/organizing-css-oocss-smacss-and-bem" target="_blank" rel="external">Organizing CSS: OOCSS, SMACSS, and BEM</a></li>
</ul>
<p>Later I found this awesome <a href="http://timhartmann.net/frontend-development/scss-styleguide-with-bem-oocss-smacss/" target="_blank" rel="external">SCSS Style Guide by Tim Hartmann.</a></p>
<p>These resources come together to create an elegant map for refactoring existing code and creating new object-oriented CSS that is scalable, modular, and named according to the BEM standard. (Block, Element, Modifier.)</p>
<p>I learned from Harry that refactoring is something that should be an ongoing process within the overall development environment. Not a specific dedicated undertaking that costs too much time and money and takes the focus away from developing new features and/or fixing bugs.</p>
<p>This is part of  “Technical Debt” in development. Something he talks more about in the YouTube video.</p>
<p>From the resources above I put together a folder structure that would help any organization with a large codebase plan out a long term refactoring process.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">scss/</div><div class="line">|- _base/</div><div class="line">|  |- _config.scss</div><div class="line">|  |- _presets.scss</div><div class="line">|  |- _header.scss</div><div class="line">|  |- _nav.scss</div><div class="line">|  |- _article.scss</div><div class="line">|  |- _section.scss</div><div class="line">|  |- _sidebar.scss</div><div class="line">|  |- _footer.scss</div><div class="line"></div><div class="line">|- _layouts/</div><div class="line">|  |- _l-base.scss</div><div class="line">|  |- _l-grid.scss</div><div class="line"></div><div class="line">|- _modules/</div><div class="line">|  |- _m-buttons.scss</div><div class="line">|  |- _m-tabs.scss</div><div class="line"></div><div class="line">|- _states/</div><div class="line">|  |- _s-buttons.scss</div><div class="line">|  |- _s-tabs.scss</div><div class="line">|- _shame.scss</div><div class="line">|- application.scss</div><div class="line"></div><div class="line">stylesheets/</div><div class="line">|- application.css</div></pre></td></tr></table></figure>
<p>You’ll notice that I added a shame file per the suggestion of Matt Stauffer. I’ve included it as a partial. This way if there is a deadline and something has to be fixed quickly. The hacky code goes into the shame file. Which doubles as a to-do list. Later when there is more time developers can go back and refactor it.</p>
<p>On top of these great resources I found uncss that further reduces the codebase.</p>
<p>Since we use Bootstrap 3 in the web application there is a lot of CSS that is not being used and bloats the code.</p>
<p>Chris Ruppel wrote an excellent post <a href="https://www.fourkitchens.com/blog/article/use-gulp-and-uncss-slim-down-your-css-framework" target="_blank" rel="external">Use Gulp and UnCSS to slim down your CSS framework.</a></p>
<p>I used gulp-uncss on a bootstrap-based personal project to remove unused CSS. It cut my CSS down 75%.</p>
<p>A few things surprised me about Uncss. It only took a couple of minutes to setup the gulp task and run it. The process is non-destructive. It maps the “in-use” css code and then writes it to a new output.css file. It makes no changes to the exisiting css. It processed my small codebase faster than I expected. With this approach I doubt it would take long to process a large SCSS codebase.</p>
<p>These are the current best practices. I plan on staying updated on the topics of refactoring and writing organized, scalable, modular CSS.</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>


    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                        <li>
                            <a href="https://twitter.com/starcorelabs" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    
                        <li>
                            <a href="https://github.com/starcorelabs" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    
                        <li>
                            <a href="mailto:info@starcorelabs.com" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2016 Starcore Labs<br></p>

            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>